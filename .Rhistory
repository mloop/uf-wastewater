location="djlemas";location
work.dir=paste("C:\\Users\\",location,"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\",sep="");work.dir
data.dir=paste("C:\\Users\\",location,"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\",sep="");data.dir
out.dir=paste("C:\\Users\\",location,"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\",sep="");out.dir
# Set Working Directory
setwd(work.dir)
list.files()
data.file.name="UF_WasteWater_ResultsCleaned.csv";data.file.name
data.file.path=paste0(data.dir,"\\",data.file.name);data.file.path
data.file.path=paste0(data.dir,"",data.file.name);data.file.path
waste.dat<- read.csv(data.file.path);
waste.dat
head(waste.dat); str(waste.dat); names(waste.dat)
work.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\");work.dir
data.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\");data.dir
out.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\results\\");out.dir
setwd(work.dir)
list.files()
library(tidyr)
library(dplyr)
library(tidyverse)
data.file.name="UF_WasteWater_ResultsCleaned_V1.csv";data.file.name
data.file.path=paste0(data.dir,"",data.file.name);data.file.path
waste.dat<- read.csv(data.file.path);
waste.dat
data.file.name="UF_WasteWater_ResultsCleaned_V1.csv";data.file.name
data.file.path=paste0(data.dir,"",data.file.name);data.file.path
waste.dat<- read.csv(data.file.path);
waste.dat
# look at data
head(waste.dat); str(waste.dat); names(waste.dat)
# format time
waste.dat$Location=as.factor(waste.dat$Location)
unique(waste.dat$Time)
levels(waste.dat$Time)
# 11 time points
waste.dat$Time = factor(waste.dat$Time,
levels = c("6:30:00 PM",
"7:00:00 PM",
"7:30:00 PM",
"8:00:00 PM",
"8:30:00 PM",
"9:00:00 PM",
"9:30:00 PM",
"10:00:00 PM",
"10:30:00 PM",
"11:00:00 PM",
"11:30:00 PM"))
waste.dat$Time
head(waste.dat)
waste.dat%>%
group_by(Time,Location)%>%
summarize(TimeStamp,FlowRate)
waste.dat%>%
group_by(Time,Location)%>%
summarize(mean(TimeStamp))
waste.dat%>%
group_by(Time)%>%
summarize(mean(TimeStamp))
waste.dat%>%
group_by(Time)%>%
summarize(mean(TimeStamp),
mean(FlowRate))
# Directory Locations
work.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\");work.dir
data.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\");data.dir
out.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\results\\");out.dir
# Set Working Directory
setwd(work.dir)
list.files()
library(skimr)
library(tidyverse)
library(haven)
library(readxl)
library(lubridate)
install.packages("skimr")
library(skimr)
library(tidyverse)
library(haven)
library(readxl)
library(lubridate)
list.files()
list.files()
list.files()
data.file.name="20190508_UFWW_Results_Comparison.xlsx";data.file.name
data.file.path=paste0(data.dir,"",data.file.name);data.file.path
water <- read_xlsx(data.file.path, sheet="analysis_data")
water
water <- read_xlsx(data.file.path, sheet="analysis_data") %>%
mutate_if(is.character, funs(na_if(., "")))
water
skim(water)
library(skimr)
skim(water)
# directory variables
work.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\");work.dir
data.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\");data.dir
out.dir=paste0(Sys.getenv("USERPROFILE"),"\\Dropbox (UFL)\\02_Projects\\WASTE_WATER\\2018_KY_Sep18\\results\\");out.dir
# set working directory
setwd(work.dir)
list.files()
library(skimr)
library(tidyverse)
library(haven)
library(readxl)
library(lubridate)
set.seed(123)
# read data
data.file.name="20190508_UFWW_Results_Comparison.xlsx";data.file.name
data.file.path=paste0(data.dir,"",data.file.name);data.file.path
water <- read_xlsx(data.file.path, sheet="analysis_data") %>%
mutate_if(is.character, funs(na_if(., "")))
names(water)
water$time=as.factor(water$location )
str(water)
water$location=as.factor(water$location)
water$location
data.file.name="20190508_UFWW_Results_Comparison.xlsx";data.file.name
data.file.path=paste0(data.dir,"",data.file.name);data.file.path
water <- read_xlsx(data.file.path, sheet="analysis_data") %>%
mutate_if(is.character, funs(na_if(., "")))
# format data
names(water)
str(water)
water$location=as.factor(water$location)
water$time=as.factor(water$location)
water$location=as.factor(water$location)
str(water)
water$metabolite_number=as.factor(water$metabolite_number)
str(water)
data.file.name="20190508_UFWW_Results_Comparison.xlsx";data.file.name
data.file.path=paste0(data.dir,"",data.file.name);data.file.path
water <- read_xlsx(data.file.path, sheet="analysis_data") %>%
mutate_if(is.character, funs(na_if(., "")))
View(water)
names(water)
water$time = factor(time,
levels = c("6:30",
"7:00",
"7:30",
"8:00",
"8:30",
"9:00",
"9:30",
"10:00",
"10:30",
"11:00",
"11:30")))
water$time = factor(time,
levels = c("6:30",
"7:00",
"7:30",
"8:00",
"8:30",
"9:00",
"9:30",
"10:00",
"10:30",
"11:00",
"11:30"))
water$time
water$time = as.character(factor(time,
levels = c("6:30",
"7:00",
"7:30",
"8:00",
"8:30",
"9:00",
"9:30",
"10:00",
"10:30",
"11:00",
"11:30")))
# format time
water$time=as.character(water$time)
water$time
names(water)
water <- read_xlsx(data.file.path, sheet="analysis_data",
col_types=c("numeric","text","numeric","numeric",
"numeric","text","numeric","numeric",
"text","text","numeric","numeric","numeric")) %>%
mutate_if(is.character, funs(na_if(., "")))
water
head(water)
